<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>나이 계산기</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 10px;
      margin: 0;
      background: #f7f7f7;
    }

    .container {
      max-width: 400px;
      margin: 0 auto;
      background: #fff;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    h2 {
      font-size: 20px;
      text-align: center;
      margin-bottom: 15px;
    }

    label {
      font-size: 14px;
      display: block;
      margin-top: 10px;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    button {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      margin-top: 15px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      background-color: #0056b3;
    }

    #result {
      margin-top: 20px;
      font-size: 16px;
      font-weight: bold;
      white-space: pre-line;
      word-break: break-word;
    }

    a {
      color: #1e90ff;
      text-decoration: underline;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>연나이 / 만나이 계산기</h2>

  <label>생년월일:</label>
  <input type="text" id="birthDate" placeholder="예: 2008-10-17">

  <label>용어 선택:</label>
  <select id="termSelect">
    <option value="">-- 용어 선택 --</option>
    <option value="소년">소년</option>
    <option value="아동">아동</option>
    <option value="아동등">아동등</option>
    <option value="아동ㆍ청소년">아동ㆍ청소년</option>
    <option value="어린이">어린이</option>
    <option value="연소자">연소자</option>
    <option value="청소년">청소년</option>
    <option value="촉법소년">촉법소년</option>
    <option value="범죄소년">범죄소년</option>
    <option value="우범소년">우범소년</option>
    <option value="형사미성년자">형사미성년자</option>
  </select>

  <button onclick="calculateAges()">나이 계산</button>

  <div id="result"></div>
</div>

<script>
/* ===== 법률 규정 ===== */
const 규정 = {

 
"청소년보호법": {
  terms: {
    "청소년": {
      기준: "연나이",
      최대: 19,
      refs: [
        "청소년보호법 제2조 제1호"
     ]
    }
  }
},

"식품위생법": {
  terms: {
    "청소년": {
      기준: "연나이",
      최대: 19,
      refs: [
        "식품위생법 제44조 제2항"
     ]
    }
  }
}

 

};

/* ===== 나이 계산 ===== */
function calculateAges() {
  const birthDateStr = document.getElementById("birthDate").value.trim();
  const term = document.getElementById("termSelect").value;
  const resultDiv = document.getElementById("result");

  const datePattern = /^\d{4}-\d{2}-\d{2}$/;
  if (!datePattern.test(birthDateStr)) {
    resultDiv.innerText = "생년월일을 YYYY-MM-DD 형식으로 입력해주세요.";
    return;
  }

  const birthDate = new Date(birthDateStr);
  const currentDate = new Date();

  if (isNaN(birthDate.getTime())) {
    resultDiv.innerText = "올바른 생년월일을 입력해주세요.";
    return;
  }

  const yearAge = currentDate.getFullYear() - birthDate.getFullYear();
  let manAge = yearAge;

  const monthDiff = currentDate.getMonth() - birthDate.getMonth();
  const dayDiff = currentDate.getDate() - birthDate.getDate();
  if (monthDiff < 0 || (monthDiff === 0 && dayDiff < 0)) {
    manAge--;
  }

  let lawResults = "";

  if (term) {
    for (const law in 규정) {
      if (규정[law].terms && 규정[law].terms[term]) {

        const 기준정보 = 규정[law].terms[term];
        const 기준 = 기준정보.기준;

        let 해당 = false;
        let 기준설명 = "";

        if (기준 === "연나이") {
          해당 = yearAge < 기준정보.최대;
          기준설명 = `(연나이 ${기준정보.최대}세 미만)`;
        } else if (기준 === "만나이") {
          해당 = manAge < 기준정보.최대;
          기준설명 = `(만나이 ${기준정보.최대}세 미만)`;
        } else if (기준 === "만나이범위") {
          해당 = manAge >= 기준정보.최소 && manAge <= 기준정보.최대;
          기준설명 = `(만나이 ${기준정보.최소}세 이상 ~ ${기준정보.최대}세 이하)`;
        }

        lawResults += `
          ${law} ${term}${기준설명}: ${해당 ? "해당됨 ✅" : "해당 안 됨 ❌"}<br>
          ${기준정보.refs.map(ref => {
            const searchRef = ref.replace(/(제\d+조).*/, "$1");
            const query = encodeURIComponent(searchRef);

            return `<a href="https://law.go.kr/LSW/lsSc.do?query=${query}"
                       target="_blank"
                       style="color:#1e90ff; font-weight:600; text-decoration:underline;">
                       ${ref}
                    </a>`;
            }).join("<br>")}
          <br>
        `;
      }
    }

    if (!lawResults) {
      lawResults = "선택한 용어에 해당하는 법률 기준이 없습니다.";
    }
  } else {
    lawResults = "용어를 선택해주세요.";
  }

  const todayStr = currentDate.toISOString().split("T")[0];

  resultDiv.innerHTML =
    `오늘 날짜: ${todayStr}<br>` +
    `연나이: ${yearAge} / 만나이: ${manAge}<br><br>` +
    lawResults;
}




    
</script>

<div style="text-align:center;">
  <div style="display:inline-block;">
    <button
      style="padding:12px 20px; font-size:16px; background:#007bff; color:white; border:none; border-radius:6px; cursor:pointer;"
      onclick="window.open('https://tally.so/r/VLj2Ng', '_blank');"
    >
      의견 제출
    </button>
  </div>
</div>

</body>
</html>







